<?php

namespace Reddit;

/**
 * Test class for NCharacterSetStrings.
 * Generated by PHPUnit on 2012-09-30 at 07:51:30.
 */
class NCharacterSetStringsTest extends \PHPUnit_Framework_TestCase
{

    /**
     * @var NCharacterSetStrings
     */
    protected $object;

    /**
     * Sets up the fixture, for example, opens a network connection.
     * This method is called before a test is executed.
     */
    protected function setUp()
    {
        $this->object = new NCharacterSetStrings;
    }

    /**
     * Tears down the fixture, for example, closes a network connection.
     * This method is called after a test is executed.
     */
    protected function tearDown()
    {
        $this->object = null;
    }

    /**
     * @covers Reddit\NCharacterSetStrings::ncset
     */
    public function testNcsetReturnsTrue()
    {
        $this->assertTrue($this->object->ncset('a', 1));
        $this->assertTrue($this->object->ncset('aacaabbabccc', 4));
    }
    
    public function testNcsetReturnsFalse()
    {
        $this->assertFalse($this->object->ncset('ab', 1));
        $this->assertFalse($this->object->ncset('abcdeeeeeeefggggghi', 7));
    }
    
    public function testHowManyWordsMatchLimitFour()
    {
        $dictionary = \file(\realpath(__DIR__ . '/../../../../word-dictionary.txt'), FILE_IGNORE_NEW_LINES | FILE_SKIP_EMPTY_LINES);
        
        $count = 0;
        
        foreach ($dictionary as $word) {
            if ($this->object->ncset($word, 4)) {
                $count++;
            }
        }
        
        $this->assertEquals(10442, $count);
    }

}